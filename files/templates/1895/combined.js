/*
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}}(jQuery),+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b){if(void 0!==a.style[c]){return{end:b[c]}}}return !1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")}};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap){return b}var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active")){return this.sliding=!1}var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition){return h.call(this)}var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart" in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented()){return}e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return !1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which){return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click")}var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b){return}f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else{b&&b()}}},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g){this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this))}else{if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void (c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void (c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState){if(this.inState[a]){return !0}}return !1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void (c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d){return}var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport){return e}var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do{a+=~~(1000000*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length)){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip){throw new Error("Popover requires tooltip.js")}c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d){return g!=(a=f[f.length-1])&&this.activate(a)}if(g&&b<e[0]){return this.activeTarget=null,this.clear()}for(a=e.length;a--;){g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])}},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed){return c>e?"top":!1}if("bottom"==this.affixed){return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom"}var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented()){return}this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);(function($,window,document,undefined){var pluginName="jquery-focusable";var focusableElementsList=["a[href]","button:not([disabled])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"];var focusableElementsSelector=focusableElementsList.join();var defaults={findNegativeTabindex:true,findPositiveTabindex:true};$.fn.focusable=function focusable(options){var opts=$.extend({},defaults,options);return $(this).first().find(focusableElementsSelector).filter(function(){return opts.findNegativeTabindex||($(this).attr("tabindex")!=="-1")}).filter(function(){return opts.findPositiveTabindex||($(this).attr("tabindex")>0===false)})}}(jQuery,window,document));(function($,window,document,undefined){var pluginName="jquery-keyboard-trap";var trapTemplate='<div tabindex="0" class="keyboard-trap-boundary">';var $topTrap=$(trapTemplate);var $outerTrapBefore=$(trapTemplate);var $innerTrapBefore=$(trapTemplate);var $innerTrapAfter=$(trapTemplate);var $outerTrapAfter=$(trapTemplate);var $botTrap=$(trapTemplate);var $trap;var $firstTabElement;var $lastTabElement;function setFocusToFirstFocusableElement(){$firstTabElement.focus()}function setFocusToLastFocusableElement(){$lastTabElement.focus()}$topTrap.on("focus",setFocusToFirstFocusableElement);$outerTrapBefore.on("focus",setFocusToFirstFocusableElement);$innerTrapBefore.on("focus",setFocusToLastFocusableElement);$innerTrapAfter.on("focus",setFocusToFirstFocusableElement);$outerTrapAfter.on("focus",setFocusToLastFocusableElement);$botTrap.on("focus",setFocusToLastFocusableElement);$.trapKeyboard=function trapKeyboard(el){var $focusable;$.untrapKeyboard();$trap=$(el);$focusable=$trap.focusable();$firstTabElement=$focusable.first();$lastTabElement=$focusable.last();$("body").prepend($topTrap);$outerTrapBefore.insertBefore($trap);$trap.prepend($innerTrapBefore);$trap.append($innerTrapAfter);$outerTrapAfter.insertAfter($trap);$("body").append($botTrap);$trap.addClass("keyboard-trap--active");$trap.trigger("keyboardTrap");return $trap};$.untrapKeyboard=function untrapKeyboard(){if($trap!==undefined){$topTrap.detach();$outerTrapBefore.detach();$innerTrapBefore.detach();$innerTrapAfter.detach();$outerTrapAfter.detach();$botTrap.detach();$trap.off("focusExit");$trap.removeClass("keyboard-trap--active");$trap.trigger("keyboardUntrap")}return $trap}}(jQuery,window,document));(function($,window,document,undefined){var pluginName="jquery-keyboard-trap";var trapTemplate='<div tabindex="0" class="keyboard-trap-boundary">';var $topTrap=$(trapTemplate);var $outerTrapBefore=$(trapTemplate);var $innerTrapBefore=$(trapTemplate);var $innerTrapAfter=$(trapTemplate);var $outerTrapAfter=$(trapTemplate);var $botTrap=$(trapTemplate);var $trap;var $firstTabElement;var $lastTabElement;function setFocusToFirstFocusableElement(){$firstTabElement.focus()}function setFocusToLastFocusableElement(){$lastTabElement.focus()}$topTrap.on("focus",setFocusToFirstFocusableElement);$outerTrapBefore.on("focus",setFocusToFirstFocusableElement);$innerTrapBefore.on("focus",setFocusToLastFocusableElement);$innerTrapAfter.on("focus",setFocusToFirstFocusableElement);$outerTrapAfter.on("focus",setFocusToLastFocusableElement);$botTrap.on("focus",setFocusToLastFocusableElement);$.trapKeyboard=function trapKeyboard(el){var $focusable;$.untrapKeyboard();$trap=$(el);$focusable=$trap.focusable();$firstTabElement=$focusable.first();$lastTabElement=$focusable.last();$("body").prepend($topTrap);$outerTrapBefore.insertBefore($trap);$trap.prepend($innerTrapBefore);$trap.append($innerTrapAfter);$outerTrapAfter.insertAfter($trap);$("body").append($botTrap);$trap.addClass("keyboard-trap--active");$trap.trigger("keyboardTrap");return $trap};$.untrapKeyboard=function untrapKeyboard(){if($trap!==undefined){$topTrap.detach();$outerTrapBefore.detach();$innerTrapBefore.detach();$innerTrapAfter.detach();$outerTrapAfter.detach();$botTrap.detach();$trap.off("focusExit");$trap.removeClass("keyboard-trap--active");$trap.trigger("keyboardUntrap")}return $trap}}(jQuery,window,document));if(window.location.hash){scroll(0,0)}setTimeout(function(){scroll(0,0)},1);$(window).load(function(){if(location.hash){$("html,body").animate({scrollTop:$(location.hash).offset().top-($("#mainNavigation").height()+20)},{duration:2000,step:function(now,fx){var newOffset=$(location.hash).offset().top-($("#mainNavigation").height()+20);if(fx.end!==newOffset){fx.end=newOffset}}})}});$(window).scroll(function(){var scroll=$(window).scrollTop();if(scroll>=50){$("body").addClass("scrolled").removeClass("notScrolled")}else{$("body").removeClass("scrolled").addClass("notScrolled")}});$(document).ready(function(){var mainNavLinks=$("#mainNavLinks");mainNavLinks.show();mainNavLinks.addClass("nav");mainNavLinks.find("ul").addClass("dropdown-menu fadeout");mainNavLinks.find("li.parent").addClass("dropdown");mainNavLinks.find("li.dropdown > a").addClass("dropdown-toggle").append('<span class="fal fa-plus"></span>');$("#mainNavLinks").find("li.dropdown").focusin(function(){$(this).find("> .dropdown-menu").removeClass("fadeout").addClass("fadein")}).focusout(function(){$(this).find("> .dropdown-menu").removeClass("fadein").addClass("fadeout")}).hover(function(){$(this).find("> .dropdown-menu").removeClass("fadeout").addClass("fadein")},function(){$(this).find("> .dropdown-menu").removeClass("fadein").addClass("fadeout")});$(".helpMenuBtns").clone().addClass("mobileHelp").insertAfter("#mainNavLinks");var buttonToggle=$("#mainNavigation");$(document).click(function(){if($("#mainNavContainerInner").attr("aria-expanded")=="true"){buttonToggle.addClass("menu-active")}else{buttonToggle.removeClass("menu-active")}});mainNavLinks.find(".parent").each(function(){var thisParent=$(this);thisParent.find("> .dropdown-menu").prepend('<li class="mobileParentLink"><a href="'+thisParent.find("> a").attr("href")+'">Overview</a></li>')});mainNavLinks.find(".parent > a").click(function(e){if($("#mainNavigation .navbar-toggle").is(":visible")){e.preventDefault();$(this).find("> span").toggleClass("fa-plus fa-minus");$(this).parent().find("> .dropdown-menu").toggleClass("opened").removeAttr("style")}});$(function(){$("header .slickSlide").each(function(){var heroCarouselBg=$(this);if(heroCarouselBg.find(".slideCaption").length!=0){heroCarouselBg.addClass("addBottomBg")}})});var heroImageBg=$("header .hero-image");if(heroImageBg.find(".carousel-caption").hasClass("visible")){heroImageBg.addClass("addBottomBg")}$(".homepage #custom3 .container").addClass("container-fluid").removeClass("container");$('body:not(".homepage") #contentShell > div > div > div > div:last-child').css("margin-bottom","50px");$(".viz-heroCarouselFlexWidget .slideCaption").wrap('<div class="slideCaptionContainer" />');$('<span class="fal fa-angle-down" aria-hidden="true"></span>').appendTo(".ButtonDropdownNavWidget button");$(".hardrockADAFeatureListHWidget .memorabiliaItems01 .CTA").addClass("col-sm-4");$(".hardrockADAFeatureListHWidget .memorabiliaItems02 .CTA").addClass("col-sm-6");$(".hardrockADAFeatureListHWidget .memorabiliaItems03 .CTA").addClass("col-sm-6");$(".hardrockADAFeatureListHWidget .memorabiliaItems03 > div.clearfix").remove();$(".hardrockADAFeatureListHWidget .memorabiliaItems03 > div").removeClass(function(index,className){return(className.match(/(^|\s)col-md-\S+/g)||[]).join(" ")});$(".hardrockADAFeatureListHWidget .memorabiliaItems03 > div:even").addClass("col-md-7 col-lg-8");$(".hardrockADAFeatureListHWidget .memorabiliaItems03 > div:odd").addClass("col-md-5 col-lg-4");$('<div class="clearfix" />').insertAfter($(".hardrockADAFeatureListHWidget .memorabiliaItems03 > div:nth-child(2)"));$(".hardrockADAFeatureListHWidget .execTeam .CTA").addClass("col-sm-4");$(".hardrockADAFeatureListHWidget .franchiseContacts .CTA").each(function(){var thisFranchiseContact=$(this);thisFranchiseContact.find(".featureListItemHeading").appendTo(thisFranchiseContact.find(".feature-img"))});$(".fullWidthCTAGrid2Widget .fullWidthContent").wrap('<div class="fullWidthContentContainerOuter" />');$(".fullWidthCTAGrid2Widget .fullWidthContent.captionLeft").removeClass("col-lg-4");$(".fullWidthCTAGrid2Widget .fullWidthContent.captionRight").removeClass("col-xs-12 col-sm-6 col-md-5 col-lg-4").addClass("col-xs-12 col-sm-6 col-sm-push-6 col-md-5 col-md-push-7");$(".viz-columnsWidget .contactPage .image").append("<div>CORPORATE</div>");$("#contentShell").find("iframe").css("width","100%");$(".spField dd span").each(function(){if($(this).hasClass("required")){$(this).parent().prev().append("<span class='required'>*</span>")}});$(".dateField").attr({autocomplete:"off",readonly:"true"});$("footer .mobileFooter").parent().attr("id","mobileFooter").addClass("visible-xs");$("footer .toggleTextOnly").parent().removeAttr("class target").attr({href:"#",onclick:"javascript:ToggleTextOnlyView();"});$("footer .toggleTextOnly").remove();$("#mainNavigation a.logo").clone().prependTo("footer .footerCol1 > div");if($("body").attr("id")!="rfp"){$("footer a.logo img").lazyloadanything({timeout:0,onLoad:function(e,LLobj){var $a=LLobj.$element;$a.attr("src",$a.attr("data-src"));$a.addClass("loaded animated fadeIn")}})}$("a").each(function(i){if(!this.href){$(this).children().unwrap()}});$('a[href$=".pdf"]').each(function(){var thisAnchor=$(this);var anchorTitle=thisAnchor.attr("title");thisAnchor.attr("target","_blank");if(typeof anchorTitle!==typeof undefined&&anchorTitle!==false){var anchorTitleVal=anchorTitle;thisAnchor.attr("title",anchorTitleVal+" (Link to PDF)")}else{thisAnchor.attr("title","(Link to PDF)")}});$("#mainNavLinks a").on("touchend",function(e){var el=$(this);var link=el.attr("href");window.location=link});var hasTouch=("ontouchstart" in window);var isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);if(hasTouch&&document.querySelectorAll&&!isSafari){$("#mainNavLinks > li > a").click(function(e){if(typeof($(this).data("hovered"))=="undefined"||$(this).data("hovered")==false){$("#mainNavLinks > li > a").data("hovered",false);$(this).data("hovered",true);return false}else{}})}else{}});$(window).on("orientationchange",fixIOS6PlaceholderBug);function fixIOS6PlaceholderBug(){var $this,originalPlaceholder="";$(document).find("input[placeholder]").each(function(){$this=$(this);originalPlaceholder=$this.attr("placeholder");$this.removeAttr("placeholder").attr("placeholder",originalPlaceholder)})}var imgLiquid=imgLiquid||{VER:"0.9.944"};imgLiquid.bgs_Available=!1,imgLiquid.bgs_CheckRunned=!1,imgLiquid.injectCss=".imgLiquid img {visibility:hidden}",function(i){function t(){if(!imgLiquid.bgs_CheckRunned){imgLiquid.bgs_CheckRunned=!0;var t=i('<span style="background-size:cover" />');i("body").append(t),!function(){var i=t[0];if(i&&window.getComputedStyle){var e=window.getComputedStyle(i,null);e&&e.backgroundSize&&(imgLiquid.bgs_Available="cover"===e.backgroundSize)}}(),t.remove()}}i.fn.extend({imgLiquid:function(e){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},t();var a=this;return this.options=e,this.settings=i.extend({},this.defaults,this.options),this.settings.onStart&&this.settings.onStart(),this.each(function(t){function e(){-1===u.css("background-image").indexOf(encodeURI(c.attr("src")))&&u.css({"background-image":'url("'+encodeURI(c.attr("src"))+'")'}),u.css({"background-size":g.fill?"cover":"contain","background-position":(g.horizontalAlign+" "+g.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),i("a:first",u).css({display:"block",width:"100%",height:"100%"}),i("img",u).css({display:"none"}),g.onItemFinish&&g.onItemFinish(t,u,c),u.addClass("imgLiquid_bgSize"),u.addClass("imgLiquid_ready"),l()}function d(){function e(){c.data("imgLiquid_error")||c.data("imgLiquid_loaded")||c.data("imgLiquid_oldProcessed")||(u.is(":visible")&&c[0].complete&&c[0].width>0&&c[0].height>0?(c.data("imgLiquid_loaded",!0),setTimeout(r,t*g.delay)):setTimeout(e,g.timecheckvisibility))}if(c.data("oldSrc")&&c.data("oldSrc")!==c.attr("src")){var a=c.clone().removeAttr("style");return a.data("imgLiquid_settings",c.data("imgLiquid_settings")),c.parent().prepend(a),c.remove(),c=a,c[0].width=0,setTimeout(d,10),void 0}return c.data("imgLiquid_oldProcessed")?(r(),void 0):(c.data("imgLiquid_oldProcessed",!1),c.data("oldSrc",c.attr("src")),i("img:not(:first)",u).css("display","none"),u.css({overflow:"hidden"}),c.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"}),c.on("error",n),c[0].onerror=n,e(),o(),void 0)}function o(){(g.responsive||c.data("imgLiquid_oldProcessed"))&&c.data("imgLiquid_settings")&&(g=c.data("imgLiquid_settings"),u.actualSize=u.get(0).offsetWidth+u.get(0).offsetHeight/10000,u.sizeOld&&u.actualSize!==u.sizeOld&&r(),u.sizeOld=u.actualSize,setTimeout(o,g.responsiveCheckTime))}function n(){c.data("imgLiquid_error",!0),u.addClass("imgLiquid_error"),g.onItemError&&g.onItemError(t,u,c),l()}function s(){var i={};if(a.settings.useDataHtmlAttr){var t=u.attr("data-imgLiquid-fill"),e=u.attr("data-imgLiquid-horizontalAlign"),d=u.attr("data-imgLiquid-verticalAlign");("true"===t||"false"===t)&&(i.fill=Boolean("true"===t)),void 0===e||"left"!==e&&"center"!==e&&"right"!==e&&-1===e.indexOf("%")||(i.horizontalAlign=e),void 0===d||"top"!==d&&"bottom"!==d&&"center"!==d&&-1===d.indexOf("%")||(i.verticalAlign=d)}return imgLiquid.isIE&&a.settings.ieFadeInDisabled&&(i.fadeInTime=0),i}function r(){var i,e,a,d,o,n,s,r,m=0,h=0,f=u.width(),v=u.height();void 0===c.data("owidth")&&c.data("owidth",c[0].width),void 0===c.data("oheight")&&c.data("oheight",c[0].height),g.fill===f/v>=c.data("owidth")/c.data("oheight")?(i="100%",e="auto",a=Math.floor(f),d=Math.floor(f*(c.data("oheight")/c.data("owidth")))):(i="auto",e="100%",a=Math.floor(v*(c.data("owidth")/c.data("oheight"))),d=Math.floor(v)),o=g.horizontalAlign.toLowerCase(),s=f-a,"left"===o&&(h=0),"center"===o&&(h=0.5*s),"right"===o&&(h=s),-1!==o.indexOf("%")&&(o=parseInt(o.replace("%",""),10),o>0&&(h=0.01*s*o)),n=g.verticalAlign.toLowerCase(),r=v-d,"left"===n&&(m=0),"center"===n&&(m=0.5*r),"bottom"===n&&(m=r),-1!==n.indexOf("%")&&(n=parseInt(n.replace("%",""),10),n>0&&(m=0.01*r*n)),g.hardPixels&&(i=a,e=d),c.css({width:i,height:e,"margin-left":Math.floor(h),"margin-top":Math.floor(m)}),c.data("imgLiquid_oldProcessed")||(c.fadeTo(g.fadeInTime,1),c.data("imgLiquid_oldProcessed",!0),g.removeBoxBackground&&u.css("background-image","none"),u.addClass("imgLiquid_nobgSize"),u.addClass("imgLiquid_ready")),g.onItemFinish&&g.onItemFinish(t,u,c),l()}function l(){t===a.length-1&&a.settings.onFinish&&a.settings.onFinish()}var g=a.settings,u=i(this),c=i("img:first",u);return c.length?(c.data("imgLiquid_settings")?(u.removeClass("imgLiquid_error").removeClass("imgLiquid_ready"),g=i.extend({},c.data("imgLiquid_settings"),a.options)):g=i.extend({},a.settings,s()),c.data("imgLiquid_settings",g),g.onItemStart&&g.onItemStart(t,u,c),imgLiquid.bgs_Available&&g.useBackgroundSize?e():d(),void 0):(n(),void 0)})}})}(jQuery),!function(){var i=imgLiquid.injectCss,t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),t.appendChild(e)}();$(function(){if($("body").hasClass("liveCalendar")){if($(".widgetCalendar > .calShell").hasClass("calGridMonthView")){$(".widgetCalendar .calFilterField .calViewList").click()}else{}UpdateCalendarListingFormat({contextSelector:"#contentShell div.widgetCalendar",repeatDateForEachEvent:true,breakEventsOutOfListShell:true,useAbbreviatedMonthDate:true});$("#custom1 > .container").css("width","100%");$(".widgetCalendar .calList, .widgetCalendar .divStatusMsg").addClass("container");$(".widgetCalendar .calViewsShell").insertAfter(".widgetCalendar .calDateControlsShell");$(".calFiltersShell .calViewsShell a").remove();$(".calFiltersShell .calViewsShell .calFilterFieldViewGrid").append('<button class="calViewGrid"><span class="sr-only">Grid View</span></button>');$(".calFiltersShell .calViewsShell .calFilterFieldViewList").append('<button class="calViewList"><span class="sr-only">List View</span></button>');$(".calFiltersShell .calViewsShell .calFilterFieldViewList").prependTo(".calFiltersShell .calViewsShell .calFilterFieldGroup");calendarFormatting();switchToListView();$(".calViewGrid").click(function(){event.preventDefault();$(".calListMonthView").wrapInner('<div class="calGridMonthView2" />');switchToGridView()});$(".calViewList").click(function(){event.preventDefault();$(".calGridMonthView2").removeClass();switchToListView()});$("a.calListDayEventBookingLink").text("tickets");var pageEvent=$("#contentShell").find("div.widgetCalendar").find("div.calListEventView");var thisEventH4=pageEvent.find("h4");var thisEventH4Classes=thisEventH4.attr("class");thisEventH4.replaceWith(function(){return"<div class='h4 "+thisEventH4Classes+"'>"+thisEventH4.html()+"</div>"});var thisEventH3=pageEvent.find("h3");$('<div class="eventDayTime" />').insertAfter(pageEvent.find(".h4"));pageEvent.find("h3, .calListDayEventTime").appendTo(pageEvent.find(".eventDayTime"));thisEventH3.empty().prepend(thisEventH3.attr("data-date-weekday-name-abbreviation")+" "+thisEventH3.attr("data-date-month-number")+"/"+thisEventH3.attr("data-date-day-number"));thisEventH3.replaceWith(function(){return"<div class='h3'>"+thisEventH3.html()+"</div>"});pageEvent.find(".h3").prepend;pageEvent.find(".calListDayEventTime").prepend('<span class="timeSeparator">|</span>');pageEvent.find(".calListDateEventCalendarFriendlyName").prepend('<span class="fas fa-map-marker-alt"></span>');pageEvent.find(".calListDayEventLocationName").remove();$('<div class="eventButtons" />').insertAfter(pageEvent.find(".calListDayEventDescription"));pageEvent.find(".linkButton").appendTo(pageEvent.find(".eventButtons"));pageEvent.find(".calListDayEventBookingLink").addClass("btn btn-default").text("Buy Now")}});function UpdateCalendarListingFormat(options){defaultOptions={contextSelector:"",wrapEntireEventWithLink:false,repeatDateForEachEvent:false,breakEventsOutOfListShell:false,useAbbreviatedMonthDate:false,breakDateIntoPieces:false,displayFullMonthDate:false,displayWeekdayName:false,useAbbreviatedWeekdayName:false};options=$.extend({},defaultOptions,options);if(options.useAbbreviatedMonthDate==true){options.breakDateIntoPieces=true}if(options.wrapEntireEventWithLink){$(options.contextSelector).find("a.calListDayEventLink").each(function(){var $a=$(this);var $aParent=$a.parent();var $aNew=$a.clone().empty();$a.children().unwrap();$aParent.children().wrapAll($aNew)})}if(options.repeatDateForEachEvent){$(options.contextSelector).find(".calListDayShell").each(function(){var $calListDay=$(this).find(".calListDay");$(this).find(".calListDayEventTitle").each(function(){$(this).before($calListDay.clone()).wrap('<div class="calListDayEventDetails">')});$calListDay.remove()})}if(options.breakEventsOutOfListShell){$(options.contextSelector).find(".calListDayEvent").unwrap().unwrap()}}function calendarFormatting(){var calFormatting=$("#contentShell").find("div.widgetCalendar").find("div.calListMonthView");calFormatting.find(".calListDayEvent").each(function(){var thisListEvent=$(this);thisListEvent.addClass("clearfix");thisListEvent.prepend('<div class="image" /><div class="text" />');thisListEvent.find(".text").prepend('<div class="textInner" />');thisListEvent.find(".image").css("background-image",'url("'+thisListEvent.find(".calListDayEventThumbnail").attr("src")+'")');thisListEvent.find(".calListDayEventThumbnail").remove();var thisH4=thisListEvent.find("h4");var thisH4Classes=thisH4.attr("class");thisH4.replaceWith(function(){return"<div class='h4 "+thisH4Classes+"'>"+thisH4.html()+"</div>"});thisListEvent.find(".h4").appendTo(thisListEvent.find(".textInner"));var thisH3=thisListEvent.find("h3");thisListEvent.find(".textInner").append('<div class="eventDayTime" />');thisListEvent.find("h3, .calListDayEventTime").appendTo(thisListEvent.find(".eventDayTime"));thisH3.empty().prepend(thisH3.attr("data-date-weekday-name-abbreviation")+" "+thisH3.attr("data-date-month-number")+"/"+thisH3.attr("data-date-day-number"));thisH3.replaceWith(function(){return"<div class='h3'>"+thisH3.html()+"</div>"});thisListEvent.find(".h3");thisListEvent.find(".calListDayEventTime").prepend('<span class="timeSeparator">|</span>');thisListEvent.find(".calListDayEvent").find(".calListDateEventCalendarFriendlyName").each(function(){var eventDay=$(this);eventDay.insertAfter(eventDay.parent().find(".eventDayTime"))});thisListEvent.find(".calListDayEventLocationName").remove();thisListEvent.find(".calListDateEventCalendarFriendlyName").prepend('<span class="fas fa-map-marker-alt"></span>');thisListEvent.find(".calListDateEventCalendarFriendlyName, .calListDayEventDescription").appendTo(thisListEvent.find(".textInner"));thisListEvent.find(".textInner").append('<div class="eventButtons" />');thisListEvent.find(".calListDayEventLink").appendTo(thisListEvent.find(".eventButtons"));thisListEvent.find(".calListDayEventLink").addClass("btn btn-primary").text("Learn More");thisListEvent.find(".calListDayEventBookingLink").prependTo(thisListEvent.find(".eventButtons"));thisListEvent.find(".calListDayEventBookingLink").addClass("btn btn-default")})}function switchToListView(){var listMonth=$("#contentShell").find("div.widgetCalendar").find("div.calListMonthView");listMonth.find(".calListDayEvent").removeClass("col-sm-6 col-md-4");listMonth.find(".image").addClass("col-sm-4");listMonth.find(".text").addClass("col-sm-8");listMonth.find(".calListDayEventLink").removeClass("btn-secondary").addClass("btn-primary")}function switchToGridView(){var gridMonth=$("#contentShell").find("div.widgetCalendar").find("div.calGridMonthView2");gridMonth.find(".calListDayEvent").addClass("col-sm-6 col-md-4");gridMonth.find(".image").removeClass("col-sm-4");gridMonth.find(".text").removeClass("col-sm-8");gridMonth.find(".calListDayEventLink").removeClass("btn-primary").addClass("btn-secondary")}
/*
     jQuery LazyLoadAnything - 2013-03-04
     (c) 2013 Shawn Welch http://shrimpwagon.wordpress.com/jquery-lazyloadanything
     license: http://www.opensource.org/licenses/mit-license.php
     
     Last updated 08/24/2016 by Kyle Peterson for Vizergy
*/
(function($){var $listenTo;var force_load_flag=false;var methods={init:function(options){var defaults={auto:true,cache:false,timeout:1000,includeMargin:false,viewportMargin:0,repeatLoad:false,listenTo:window,onLoadingStart:function(e,llelements,indexes){return true},onLoad:function(e,llelement){return true},onLoadingComplete:function(e,llelements,indexes){return true}};var settings=$.extend({},defaults,options);$listenTo=$(settings.listenTo);var timeout=0;var llelements=[];var $selector=this;$listenTo.bind("scroll.lla",function(e){if(!force_load_flag&&!settings.auto){return false}force_load_flag=false;clearTimeout(timeout);timeout=setTimeout(function(){var viewport_left=$listenTo.scrollLeft();var viewport_top=$listenTo.scrollTop();var viewport_width=$listenTo.innerWidth();var viewport_height=$listenTo.innerHeight();var viewport_x1=viewport_left-settings.viewportMargin;var viewport_x2=viewport_left+viewport_width+settings.viewportMargin;var viewport_y1=viewport_top-settings.viewportMargin;var viewport_y2=viewport_top+viewport_height+settings.viewportMargin;var load_elements=[];var i,llelem_top,llelem_bottom;for(i=0;i<llelements.length;i++){llelem_x1=llelements[i].getLeft();llelem_x2=llelements[i].getRight();llelem_y1=llelements[i].getTop();llelem_y2=llelements[i].getBottom();if(llelements[i].$element.is(":visible")){if((viewport_x1<llelem_x2)&&(viewport_x2>llelem_x1)&&(viewport_y1<llelem_y2)&&(viewport_y2>llelem_y1)){if(settings.repeatLoad||!llelements[i].loaded){load_elements.push(i)}}}}if(settings.onLoadingStart.call(undefined,e,llelements,load_elements)){for(i=0;i<load_elements.length;i++){llelements[load_elements[i]].loaded=true;if(settings.onLoad.call(undefined,e,llelements[load_elements[i]])===false){break}}settings.onLoadingComplete.call(undefined,e,llelements,load_elements)}},settings.timeout)});function LazyLoadElement($element){var self=this;this.loaded=false;this.$element=$element;this.top=undefined;this.bottom=undefined;this.left=undefined;this.right=undefined;this.getTop=function(){if(self.top){return self.top}return self.$element.offset().top};this.getBottom=function(){if(self.bottom){return self.bottom}var top=(self.top)?self.top:this.getTop();return top+self.$element.outerHeight(settings.includeMargin)};this.getLeft=function(){if(self.left){return self.left}return self.$element.offset().left};this.getRight=function(){if(self.right){return self.right}var left=(self.left)?self.left:this.getLeft();return left+self.$element.outerWidth(settings.includeMargin)};if(settings.cache){this.top=this.getTop();this.bottom=this.getBottom();this.left=this.getLeft();this.right=this.getRight()}}var chain=$selector.each(function(){llelements.push(new LazyLoadElement($(this)))});return chain},destroy:function(){$listenTo.unbind("scroll.lla")},load:function(){if(typeof($listenTo)!="undefined"){force_load_flag=true;$listenTo.trigger("scroll.lla")}}};$.fn.lazyloadanything=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.lazyloadanything")}}}})(jQuery);
/*
 * css-vars-ponyfill
 * v1.8.0
 * https://github.com/jhildenbiddle/css-vars-ponyfill
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.cssVars=factory()})(this,function(){
/*
     * get-css-data
     * v1.3.2
     * https://github.com/jhildenbiddle/get-css-data
     * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
     * MIT license
     */
function getUrls(urls){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var settings={mimeType:options.mimeType||null,onBeforeSend:options.onBeforeSend||Function.prototype,onSuccess:options.onSuccess||Function.prototype,onError:options.onError||Function.prototype,onComplete:options.onComplete||Function.prototype};var urlArray=Array.isArray(urls)?urls:[urls];var urlQueue=Array.apply(null,Array(urlArray.length)).map(function(x){return null});function onError(xhr,urlIndex){settings.onError(xhr,urlArray[urlIndex],urlIndex)}function onSuccess(responseText,urlIndex){var returnVal=settings.onSuccess(responseText,urlArray[urlIndex],urlIndex);responseText=returnVal===false?"":returnVal||responseText;urlQueue[urlIndex]=responseText;if(urlQueue.indexOf(null)===-1){settings.onComplete(urlQueue)}}urlArray.forEach(function(url,i){var parser=document.createElement("a");parser.setAttribute("href",url);parser.href=parser.href;var isCrossDomain=parser.host!==location.host;var isSameProtocol=parser.protocol===location.protocol;if(isCrossDomain&&typeof XDomainRequest!=="undefined"){if(isSameProtocol){var xdr=new XDomainRequest();xdr.open("GET",url);xdr.timeout=0;xdr.onprogress=Function.prototype;xdr.ontimeout=Function.prototype;xdr.onload=function(){onSuccess(xdr.responseText,i)};xdr.onerror=function(err){onError(xdr,i)};setTimeout(function(){xdr.send()},0)}else{console.log("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol");onError(null,i)}}else{var xhr=new XMLHttpRequest();xhr.open("GET",url);if(settings.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(settings.mimeType)}settings.onBeforeSend(xhr,url,i);xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){onSuccess(xhr.responseText,i)}else{onError(xhr,i)}}};xhr.send()}})}function getCssData(options){var regex={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g};var settings={include:options.include||'style,link[rel="stylesheet"]',exclude:options.exclude||null,filter:options.filter||null,onBeforeSend:options.onBeforeSend||Function.prototype,onSuccess:options.onSuccess||Function.prototype,onError:options.onError||Function.prototype,onComplete:options.onComplete||Function.prototype};var sourceNodes=Array.apply(null,document.querySelectorAll(settings.include)).filter(function(node){return !matchesSelector(node,settings.exclude)});var cssArray=Array.apply(null,Array(sourceNodes.length)).map(function(x){return null});function handleComplete(){var isComplete=cssArray.indexOf(null)===-1;if(isComplete){var cssText=cssArray.join("");settings.onComplete(cssText,cssArray,sourceNodes)}}function handleSuccess(cssText,cssIndex,node,sourceUrl){var returnVal=settings.onSuccess(cssText,node,sourceUrl);cssText=returnVal===false?"":returnVal||cssText;resolveImports(cssText,node,sourceUrl,function(resolvedCssText,errorData){if(cssArray[cssIndex]===null){errorData.forEach(function(data){return settings.onError(data.xhr,node,data.url)});if(!settings.filter||settings.filter.test(resolvedCssText)){cssArray[cssIndex]=resolvedCssText}else{cssArray[cssIndex]=""}handleComplete()}})}function parseImportData(cssText,baseUrl){var ignoreRules=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var importData={};importData.rules=(cssText.replace(regex.cssComments,"").match(regex.cssImports)||[]).filter(function(rule){return ignoreRules.indexOf(rule)===-1});importData.urls=importData.rules.map(function(rule){return rule.replace(regex.cssImports,"$1")});importData.absoluteUrls=importData.urls.map(function(url){return getFullUrl(url,baseUrl)});importData.absoluteRules=importData.rules.map(function(rule,i){var oldUrl=importData.urls[i];var newUrl=getFullUrl(importData.absoluteUrls[i],baseUrl);return rule.replace(oldUrl,newUrl)});return importData}function resolveImports(cssText,node,baseUrl,callbackFn){var __errorData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var __errorRules=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];var importData=parseImportData(cssText,baseUrl,__errorRules);if(importData.rules.length){getUrls(importData.absoluteUrls,{onBeforeSend:function onBeforeSend(xhr,url,urlIndex){settings.onBeforeSend(xhr,node,url)},onSuccess:function onSuccess(cssText,url,urlIndex){var returnVal=settings.onSuccess(cssText,node,url);cssText=returnVal===false?"":returnVal||cssText;var responseImportData=parseImportData(cssText,url,__errorRules);responseImportData.rules.forEach(function(rule,i){cssText=cssText.replace(rule,responseImportData.absoluteRules[i])});return cssText},onError:function onError(xhr,url,urlIndex){__errorData.push({xhr:xhr,url:url});__errorRules.push(importData.rules[urlIndex]);resolveImports(cssText,node,baseUrl,callbackFn,__errorData,__errorRules)},onComplete:function onComplete(responseArray){responseArray.forEach(function(importText,i){cssText=cssText.replace(importData.rules[i],importText)});resolveImports(cssText,node,baseUrl,callbackFn,__errorData,__errorRules)}})}else{callbackFn(cssText,__errorData)}}if(sourceNodes.length){sourceNodes.forEach(function(node,i){var linkHref=node.getAttribute("href");var linkRel=node.getAttribute("rel");var isLink=node.nodeName==="LINK"&&linkHref&&linkRel&&linkRel.toLowerCase()==="stylesheet";var isStyle=node.nodeName==="STYLE";if(isLink){getUrls(linkHref,{mimeType:"text/css",onBeforeSend:function onBeforeSend(xhr,url,urlIndex){settings.onBeforeSend(xhr,node,url)},onSuccess:function onSuccess(cssText,url,urlIndex){var sourceUrl=getFullUrl(linkHref,location.href);handleSuccess(cssText,i,node,sourceUrl)},onError:function onError(xhr,url,urlIndex){cssArray[i]="";settings.onError(xhr,node,url);handleComplete()}})}else{if(isStyle){handleSuccess(node.textContent,i,node,location.href)}else{cssArray[i]="";handleComplete()}}})}else{settings.onComplete("",[])}}function getFullUrl(url){var base=arguments.length>1&&arguments[1]!==undefined?arguments[1]:location.href;var d=document.implementation.createHTMLDocument("");var b=d.createElement("base");var a=d.createElement("a");d.head.appendChild(b);d.body.appendChild(a);b.href=base;a.href=url;return a.href}function matchesSelector(elm,selector){var matches=elm.matches||elm.matchesSelector||elm.webkitMatchesSelector||elm.mozMatchesSelector||elm.msMatchesSelector||elm.oMatchesSelector;return matches.call(elm,selector)}function mergeDeep(){var isObject=function isObject(obj){return obj instanceof Object&&obj.constructor===Object};for(var _len=arguments.length,objects=Array(_len),_key=0;_key<_len;_key++){objects[_key]=arguments[_key]}return objects.reduce(function(prev,obj){Object.keys(obj).forEach(function(key){var pVal=prev[key];var oVal=obj[key];if(isObject(pVal)&&isObject(oVal)){prev[key]=mergeDeep(pVal,oVal)}else{prev[key]=oVal}});return prev},{})}var balancedMatch=balanced;function balanced(a,b,str){if(a instanceof RegExp){a=maybeMatch(a,str)}if(b instanceof RegExp){b=maybeMatch(b,str)}var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}balanced.range=range;function range(a,b,str){var begs,beg,left,right,result;var ai=str.indexOf(a);var bi=str.indexOf(b,ai+1);var i=ai;if(ai>=0&&bi>0){begs=[];left=str.length;while(i>=0&&!result){if(i==ai){begs.push(i);ai=str.indexOf(a,i+1)}else{if(begs.length==1){result=[begs.pop(),bi]}else{beg=begs.pop();if(beg<left){left=beg;right=bi}bi=str.indexOf(b,i+1)}}i=ai<bi&&ai>=0?ai:bi}if(begs.length){result=[left,right]}}return result}function cssParse(css){var errors=[];function error(msg){throw new Error("CSS parse error: "+msg)}function match(re){var m=re.exec(css);if(m){css=css.slice(m[0].length);return m}}function whitespace(){match(/^\s*/)}function open(){return match(/^{\s*/)}function close(){return match(/^}/)}function comment(){whitespace();if(css[0]!=="/"||css[1]!=="*"){return}var i=2;while(css[i]&&(css[i]!=="*"||css[i+1]!=="/")){i++}if(!css[i]){return error("end of comment is missing")}var str=css.slice(2,i);css=css.slice(i+2);return{type:"comment",comment:str}}function comments(){var cmnts=[];var c=void 0;while(c=comment()){cmnts.push(c)}return cmnts}function selector(){whitespace();while(css[0]==="}"){error("extra closing bracket")}var m=match(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(m){return m[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(m){return m.replace(/,/g,"")}).split(/\s*(?![^(]*\)),\s*/).map(function(s){return s.replace(/\u200C/g,",")})}}function declaration(){match(/^([;\s]*)+/);var comment_regexp=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g;var prop=match(/^(\*?[-#\/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!prop){return}prop=prop[0].trim();if(!match(/^:\s*/)){return error("property missing ':'")}var val=match(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/);var ret={type:"declaration",property:prop.replace(comment_regexp,""),value:val?val[0].replace(comment_regexp,"").trim():""};match(/^[;\s]*/);return ret}function declarations(){if(!open()){return error("missing '{'")}var d=void 0,decls=comments();while(d=declaration()){decls.push(d);decls=decls.concat(comments())}if(!close()){return error("missing '}'")}return decls}function keyframe(){whitespace();var vals=[];var m=void 0;while(m=match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)){vals.push(m[1]);match(/^,\s*/)}if(vals.length){return{type:"keyframe",values:vals,declarations:declarations()}}}function at_keyframes(){var m=match(/^@([-\w]+)?keyframes\s*/);if(!m){return}var vendor=m[1];m=match(/^([-\w]+)\s*/);if(!m){return error("@keyframes missing name")}var name=m[1];if(!open()){return error("@keyframes missing '{'")}var frame=void 0,frames=comments();while(frame=keyframe()){frames.push(frame);frames=frames.concat(comments())}if(!close()){return error("@keyframes missing '}'")}return{type:"keyframes",name:name,vendor:vendor,keyframes:frames}}function at_page(){var m=match(/^@page */);if(m){var sel=selector()||[];return{type:"page",selectors:sel,declarations:declarations()}}}function at_fontface(){var m=match(/^@font-face\s*/);if(m){return{type:"font-face",declarations:declarations()}}}function at_supports(){var m=match(/^@supports *([^{]+)/);if(m){return{type:"supports",supports:m[1].trim(),rules:rules()}}}function at_host(){var m=match(/^@host\s*/);if(m){return{type:"host",rules:rules()}}}function at_media(){var m=match(/^@media *([^{]+)/);if(m){return{type:"media",media:m[1].trim(),rules:rules()}}}function at_custom_m(){var m=match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(m){return{type:"custom-media",name:m[1].trim(),media:m[2].trim()}}}function at_document(){var m=match(/^@([-\w]+)?document *([^{]+)/);if(m){return{type:"document",document:m[2].trim(),vendor:m[1]?m[1].trim():null,rules:rules()}}}function at_x(){var m=match(/^@(import|charset|namespace)\s*([^;]+);/);if(m){return{type:m[1],name:m[2].trim()}}}function at_rule(){whitespace();if(css[0]==="@"){return at_keyframes()||at_supports()||at_host()||at_media()||at_custom_m()||at_page()||at_document()||at_fontface()||at_x()}}function rule(){var sel=selector()||[];if(!sel.length){error("selector missing")}var decls=declarations();return{type:"rule",selectors:sel,declarations:decls}}function rules(core){if(!core&&!open()){return error("missing '{'")}var node=void 0,rules=comments();while(css.length&&(core||css[0]!=="}")&&(node=at_rule()||rule())){rules.push(node);rules=rules.concat(comments())}if(!core&&!close()){return error("missing '}'")}return rules}return{type:"stylesheet",stylesheet:{rules:rules(true),errors:errors}}}function stringifyCss(tree){var delim=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var cb=arguments[2];var renderMethods={charset:function charset(node){return"@charset "+node.name+";"},comment:function comment(node){return node.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+node.comment+"*/":""},"custom-media":function customMedia(node){return"@custom-media "+node.name+" "+node.media+";"},declaration:function declaration(node){return node.property+":"+node.value+";"},document:function document(node){return"@"+(node.vendor||"")+"document "+node.document+"{"+visit(node.rules)+"}"},"font-face":function fontFace(node){return"@font-face{"+visit(node.declarations)+"}"},host:function host(node){return"@host{"+visit(node.rules)+"}"},"import":function _import(node){return"@import "+node.name+";"},keyframe:function keyframe(node){return node.values.join(",")+"{"+visit(node.declarations)+"}"},keyframes:function keyframes(node){return"@"+(node.vendor||"")+"keyframes "+node.name+"{"+visit(node.keyframes)+"}"},media:function media(node){return"@media "+node.media+"{"+visit(node.rules)+"}"},namespace:function namespace(node){return"@namespace "+node.name+";"},page:function page(node){return"@page "+(node.selectors.length?node.selectors.join(", "):"")+"{"+visit(node.declarations)+"}"},rule:function rule(node){var decls=node.declarations;if(decls.length){return node.selectors.join(",")+"{"+visit(decls)+"}"}},supports:function supports(node){return"@supports "+node.supports+"{"+visit(node.rules)+"}"}};function visit(nodes){var buf="";for(var i=0;i<nodes.length;i++){var n=nodes[i];if(cb){cb(n)}var txt=renderMethods[n.type](n);if(txt){buf+=txt;if(txt.length&&n.selectors){buf+=delim}}}return buf}return visit(tree.stylesheet.rules)}function walkCss(node,fn){node.rules.forEach(function(rule){if(rule.rules){walkCss(rule,fn);return}if(rule.keyframes){rule.keyframes.forEach(function(keyframe){if(keyframe.type==="keyframe"){fn(keyframe.declarations,rule)}});return}if(!rule.declarations){return}fn(rule.declarations,node)})}var persistStore={};var VAR_PROP_IDENTIFIER="--";var VAR_FUNC_IDENTIFIER="var";function transformVars(cssText){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var defaults={fixNestedCalc:true,onlyVars:true,persist:false,preserve:false,variables:{},onWarning:function onWarning(){}};var map={};var settings=mergeDeep(defaults,options);var varSource=settings.persist?persistStore:settings.variables;var cssTree=cssParse(cssText);if(settings.onlyVars){cssTree.stylesheet.rules=filterVars(cssTree.stylesheet.rules)}cssTree.stylesheet.rules.forEach(function(rule){var varNameIndices=[];if(rule.type!=="rule"){return}if(rule.selectors.length!==1||rule.selectors[0]!==":root"){return}rule.declarations.forEach(function(decl,i){var prop=decl.property;var value=decl.value;if(prop&&prop.indexOf(VAR_PROP_IDENTIFIER)===0){map[prop]=value;varNameIndices.push(i)}});if(!settings.preserve){for(var i=varNameIndices.length-1;i>=0;i--){rule.declarations.splice(varNameIndices[i],1)}}});Object.keys(settings.variables).forEach(function(key){var prop="--"+key.replace(/^-+/,"");var value=settings.variables[key];if(key!==prop){settings.variables[prop]=value;delete settings.variables[key]}if(settings.persist){persistStore[prop]=value}});if(Object.keys(varSource).length){var newRule={declarations:[],selectors:[":root"],type:"rule"};Object.keys(varSource).forEach(function(key){map[key]=varSource[key];newRule.declarations.push({type:"declaration",property:key,value:varSource[key]});if(settings.persist){persistStore[key]=varSource[key]}});if(settings.preserve){cssTree.stylesheet.rules.push(newRule)}}walkCss(cssTree.stylesheet,function(declarations,node){var decl=void 0;var resolvedValue=void 0;var value=void 0;for(var i=0;i<declarations.length;i++){decl=declarations[i];value=decl.value;if(decl.type!=="declaration"){continue}if(!value||value.indexOf(VAR_FUNC_IDENTIFIER+"(")===-1){continue}resolvedValue=resolveValue(value,map,settings);if(resolvedValue!=="undefined"){if(!settings.preserve){decl.value=resolvedValue}else{declarations.splice(i,0,{type:decl.type,property:decl.property,value:resolvedValue});i++}}}});if(settings.fixNestedCalc){fixNestedCalc(cssTree.stylesheet.rules)}return stringifyCss(cssTree)}function filterVars(rules){return rules.filter(function(rule){if(rule.declarations){var declArray=rule.declarations.filter(function(d){var hasVarProp=d.property&&d.property.indexOf(VAR_PROP_IDENTIFIER)===0;var hasVarVal=d.value&&d.value.indexOf(VAR_FUNC_IDENTIFIER+"(")>-1;return hasVarProp||hasVarVal});if(rule.type!=="font-face"){rule.declarations=declArray}return Boolean(declArray.length)}else{if(rule.keyframes){return Boolean(rule.keyframes.filter(function(k){return Boolean(k.declarations.filter(function(d){var hasVarProp=d.property&&d.property.indexOf(VAR_PROP_IDENTIFIER)===0;var hasVarVal=d.value&&d.value.indexOf(VAR_FUNC_IDENTIFIER+"(")>-1;return hasVarProp||hasVarVal}).length)}).length)}else{if(rule.rules){rule.rules=filterVars(rule.rules).filter(function(r){return r.declarations&&r.declarations.length});return Boolean(rule.rules.length)}}}return true})}function fixNestedCalc(rules){var reCalcExp=/(-[a-z]+-)?calc\(/;rules.forEach(function(rule){if(rule.declarations){rule.declarations.forEach(function(decl){var oldValue=decl.value;var newValue="";while(reCalcExp.test(oldValue)){var rootCalc=balancedMatch("calc(",")",oldValue||"");oldValue=oldValue.slice(rootCalc.end);while(reCalcExp.test(rootCalc.body)){var nestedCalc=balancedMatch(reCalcExp,")",rootCalc.body);rootCalc.body=nestedCalc.pre+"("+nestedCalc.body+")"+nestedCalc.post}newValue+=rootCalc.pre+"calc("+rootCalc.body;newValue+=!reCalcExp.test(oldValue)?")"+rootCalc.post:""}decl.value=newValue||decl.value})}})}function resolveValue(value,map,settings){var RE_VAR=/([\w-]+)(?:\s*,\s*)?(.*)?/;var balancedParens=balancedMatch("(",")",value);var varStartIndex=value.indexOf("var(");var varRef=balancedMatch("(",")",value.substring(varStartIndex)).body;var warningIntro="CSS transform warning:";if(!balancedParens){settings.onWarning(warningIntro+' missing closing ")" in the value "'+value+'"')}if(varRef===""){settings.onWarning(warningIntro+" var() must contain a non-whitespace string")}var varFunc=VAR_FUNC_IDENTIFIER+"("+varRef+")";var varResult=varRef.replace(RE_VAR,function(_,name,fallback){var replacement=map[name];var hasReplacement=replacement!==undefined&&replacement!=="";var hasFallback=fallback!==undefined&&fallback!=="";if(!hasReplacement&&!hasFallback){settings.onWarning(warningIntro+' variable "'+name+'" is undefined')}if(!hasReplacement&&hasFallback){return fallback}return replacement});value=value.split(varFunc).join(varResult);if(value.indexOf(VAR_FUNC_IDENTIFIER+"(")!==-1){value=resolveValue(value,map,settings)}return value}var name="css-vars-ponyfill";var defaults={include:"style,link[rel=stylesheet]",exclude:"",fixNestedCalc:true,onlyLegacy:true,onlyVars:false,preserve:false,silent:false,updateDOM:true,updateURLs:true,variables:{},watch:false,onBeforeSend:function onBeforeSend(){},onSuccess:function onSuccess(){},onWarning:function onWarning(){},onError:function onError(){},onComplete:function onComplete(){}};var hasNativeSupport=window&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)");var regex={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVars:/(?:(?::root\s*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/};var cssVarsObserver=null;function cssVars(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var settings=mergeDeep(defaults,options);function handleError(message,sourceNode,xhr,url){if(!settings.silent){console.error(message+"\n",sourceNode)}settings.onError(message,sourceNode,xhr,url)}function handleWarning(message){if(!settings.silent){console.warn(message)}settings.onWarning(message)}if(document.readyState!=="loading"){if(!hasNativeSupport||!settings.onlyLegacy){var styleNodeId=name;if(settings.watch){addMutationObserver(settings,styleNodeId)}getCssData({include:settings.include,exclude:"#"+styleNodeId+(settings.exclude?","+settings.exclude:""),filter:settings.onlyVars?regex.cssVars:null,onBeforeSend:settings.onBeforeSend,onSuccess:function onSuccess(cssText,node,url){var returnVal=settings.onSuccess(cssText,node,url);cssText=returnVal===false?"":returnVal||cssText;if(settings.updateURLs){var cssUrls=cssText.replace(regex.cssComments,"").match(regex.cssUrls)||[];cssUrls.forEach(function(cssUrl){var oldUrl=cssUrl.replace(regex.cssUrls,"$1");var newUrl=getFullUrl$1(oldUrl,url);cssText=cssText.replace(cssUrl,cssUrl.replace(oldUrl,newUrl))})}return cssText},onError:function onError(xhr,node,url){var responseUrl=xhr.responseURL||getFullUrl$1(url,location.href);var statusText=xhr.statusText?"("+xhr.statusText+")":"Unspecified Error"+(xhr.status===0?" (possibly CORS related)":"");var errorMsg="CSS XHR Error: "+responseUrl+" "+xhr.status+" "+statusText;handleError(errorMsg,node,xhr,responseUrl)},onComplete:function onComplete(cssText,cssArray,nodeArray){var cssMarker=/\/\*__CSSVARSPONYFILL-(\d+)__\*\//g;var styleNode=null;cssText=cssArray.map(function(css,i){return regex.cssVars.test(css)?css:"/*__CSSVARSPONYFILL-"+i+"__*/"}).join("");try{cssText=transformVars(cssText,{fixNestedCalc:settings.fixNestedCalc,onlyVars:settings.onlyVars,persist:settings.updateDOM,preserve:settings.preserve,variables:settings.variables,onWarning:handleWarning});var hasKeyframes=regex.cssKeyframes.test(cssText);var cssMarkerMatch=cssMarker.exec(cssText);while(cssMarkerMatch!==null){var matchedText=cssMarkerMatch[0];var cssArrayIndex=cssMarkerMatch[1];cssText=cssText.replace(matchedText,cssArray[cssArrayIndex]);cssMarkerMatch=cssMarker.exec(cssText)}if(settings.updateDOM&&nodeArray&&nodeArray.length){var lastNode=nodeArray[nodeArray.length-1];styleNode=document.querySelector("#"+styleNodeId)||document.createElement("style");styleNode.setAttribute("id",styleNodeId);if(styleNode.textContent!==cssText){styleNode.textContent=cssText}if(lastNode.nextSibling!==styleNode){lastNode.parentNode.insertBefore(styleNode,lastNode.nextSibling)}if(hasKeyframes){fixKeyframes()}}}catch(err){var errorThrown=false;cssArray.forEach(function(cssText,i){try{cssText=transformVars(cssText,settings)}catch(err){var errorNode=nodeArray[i-0];errorThrown=true;handleError(err.message,errorNode)}});if(!errorThrown){handleError(err.message||err)}}settings.onComplete(cssText,styleNode)}})}else{if(hasNativeSupport&&settings.updateDOM){Object.keys(settings.variables).forEach(function(key){var prop="--"+key.replace(/^-+/,"");var value=settings.variables[key];document.documentElement.style.setProperty(prop,value)})}}}else{document.addEventListener("DOMContentLoaded",function init(evt){cssVars(options);document.removeEventListener("DOMContentLoaded",init)})}}function addMutationObserver(settings,ignoreId){if(window.MutationObserver&&!cssVarsObserver){var isLink=function isLink(node){return node.tagName==="LINK"&&(node.getAttribute("rel")||"").indexOf("stylesheet")!==-1};var isStyle=function isStyle(node){return node.tagName==="STYLE"&&(ignoreId?node.id!==ignoreId:true)};var debounceTimer=null;cssVarsObserver=new MutationObserver(function(mutations){var isUpdateMutation=false;mutations.forEach(function(mutation){if(mutation.type==="attributes"){isUpdateMutation=isLink(mutation.target)||isStyle(mutation.target)}else{if(mutation.type==="childList"){var addedNodes=Array.apply(null,mutation.addedNodes);var removedNodes=Array.apply(null,mutation.removedNodes);isUpdateMutation=[].concat(addedNodes,removedNodes).some(function(node){var isValidLink=isLink(node)&&!node.disabled;var isValidStyle=isStyle(node)&&!node.disabled&&regex.cssVars.test(node.textContent);return isValidLink||isValidStyle})}}if(isUpdateMutation){clearTimeout(debounceTimer);debounceTimer=setTimeout(function(){cssVars(settings)},1)}})});cssVarsObserver.observe(document.documentElement,{attributes:true,attributeFilter:["disabled","href"],childList:true,subtree:true})}}function fixKeyframes(){var allNodes=document.body.getElementsByTagName("*");var keyframeNodes=[];var nameMarker="__css-vars-keyframe__";for(var i=0,len=allNodes.length;i<len;i++){var node=allNodes[i];var animationName=window.getComputedStyle(node).animationName;if(animationName!=="none"){node.style.animationName+=nameMarker;keyframeNodes.push(node)}}void document.body.offsetHeight;for(var _i=0,_len=keyframeNodes.length;_i<_len;_i++){var nodeStyle=keyframeNodes[_i].style;nodeStyle.animationName=nodeStyle.animationName.replace(nameMarker,"")}}function getFullUrl$1(url){var base=arguments.length>1&&arguments[1]!==undefined?arguments[1]:location.href;var d=document.implementation.createHTMLDocument("");var b=d.createElement("base");var a=d.createElement("a");d.head.appendChild(b);d.body.appendChild(a);b.href=base;a.href=url;return a.href}return cssVars});cssVars({exclude:"[media=print]"});var GEOLocationAPI={VisitorProperty:null,Options:{VisitorLatitudeCookieName:"geocoordinateslatitude",VisitorLongitudeCookieName:"geocoordinateslongitude",VisitorPropertyKeyCookieName:"visitorPropertyKey",VisitorPropertyCoordinateBasedCookieName:"visitorPropertyCoordinateBased",RequestGEOLocationFlag:true,MapWidgetJSONURL:"",MapWidgetGoogleObjectName:"pointMap",MapWidgetJSONObjectName:"pointMapJSON",MapWidgetJSONObjectLatitudePropertyName:"lat",MapWidgetJSONObjectLongitudePropertyName:"lng",MapWidgetJSONFileObjectName:"pointMapJSONFile",MapWidgetJSONFileObjectCollectionPropertyName:"PropertyorInterestPoint",MapWidgetJSONFileObjectLatitudePropertyName:"interestpointinterestlatitude",MapWidgetJSONFileObjectLongitudePropertyName:"interestpointinterestlongitude",MapWidgetJSONFileObjectKeyValuePropertyName:"interestpointMoreInfoLink",MapWidgetJSONFileObjectKeyValueGeneratorFunction:function(sValue){return sValue},MapWidgetDebugFlagName:"pointMapDebug",MapWidgetDebugShapesObjectName:"pointMapShapes",MapWidgetVisitorIconURLName:"pointMapVisitorIconURL",MapWidgetSearchFormSelector:"#formMapSearch",MapWidgetSearchTextboxSelector:"#txtMapSearch",MapWidgetSearchRadiusExtension:0,MapWidgetSearchCountriesBias:["United States","Canada"],MapWidgetSearchConversions:[{from:"st. petersburg",to:"st. petersburg, fl"},{from:"st petersburg",to:"st petersburg, fl"},{from:"saint petersburg",to:"saint petersburg, fl"},{from:"sun city",to:"sun city south africa"}],MapWidgetReplaceMarkerLabelsIdleListener:null,MapWidgetReplaceMarkerLabelsDone:false,MapWidgetOriginalMarkerIcon:"",MapWidgetNumberedMarkerIcon:"",MapWidgetLabelOriginXValue:0,MapWidgetLabelOriginYValue:0,MapWidgetSearchResultsListSelector:"#mapSearchResults",MapWidgetSearchResultsEmptySelector:"#mapSearchResultsEmpty",MapWidgetLastSearchAction:"",MapWidgetLoadedEventName:"pointMapLoaded",MapWidgetJSONLoadedEventName:"PointMapJSONFileLoaded",GeoLocationDoneEventName:"geolocationDone",VisitorPropertyIdentifiedEventName:"VisitorPropertyIdentified"},Init:function(options){GEOLocationAPI.Options=$.extend({},GEOLocationAPI.Options,options);window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName]=[];var sPointMapJSONURL=GEOLocationAPI.Options.MapWidgetJSONURL;if(document.location.host=="cms.vizergy.com"){sPointMapJSONURL=GEOLocationAPI.ConvertProductionJSONURLToCMS(sPointMapJSONURL)}sPointMapJSONURL=GEOLocationAPI.ConvertURLProtocol(sPointMapJSONURL);$.ajax({url:sPointMapJSONURL,dataType:"jsonp",jsonpCallback:GEOLocationAPI.ConvertJSONURLToCallbackFunctionName(sPointMapJSONURL),success:function(data){window[GEOLocationAPI.Options.MapWidgetJSONFileObjectName]=data;$("body").trigger(GEOLocationAPI.Options.MapWidgetJSONLoadedEventName);window[GEOLocationAPI.Options.MapWidgetDebugFlagName]=false;var uri=parseUri(window.location);if(typeof(uri.queryKey.mapdebug)!="undefined"){window[GEOLocationAPI.Options.MapWidgetDebugFlagName]=true}if(readCookie(GEOLocationAPI.Options.VisitorPropertyKeyCookieName)!=""){GEOLocationAPI.GetVisitorProperty("","",readCookie(GEOLocationAPI.Options.VisitorPropertyKeyCookieName));GEOLocationAPI.LoadVisitorPropertyDetails()}if(GEOLocationAPI.Options.RequestGEOLocationFlag==true){$("body").bind(GEOLocationAPI.Options.GeoLocationDoneEventName,GEOLocationAPI.VisitorLocationFound);RequestGEOLocationCoordinates()}var searchURI=parseUri(document.location.href);if(typeof(searchURI.queryKey.search)!="undefined"){$(GEOLocationAPI.Options.MapWidgetSearchTextboxSelector).val(decodeURIComponent(searchURI.queryKey.search));$(GEOLocationAPI.Options.MapWidgetSearchFormSelector).submit()}}});$(GEOLocationAPI.Options.MapWidgetSearchFormSelector).submit(function(){var $txtSearch=$(GEOLocationAPI.Options.MapWidgetSearchTextboxSelector);var sText=$.trim($txtSearch.val());if(sText!=$txtSearch.attr("placeholder")&&sText!=""){for(var i=0;i<GEOLocationAPI.Options.MapWidgetSearchConversions.length;i++){if(sText.toLowerCase()==GEOLocationAPI.Options.MapWidgetSearchConversions[i].from.toLowerCase()){sText=GEOLocationAPI.Options.MapWidgetSearchConversions[i].to}}var geocoder=new google.maps.Geocoder();geocoder.geocode({address:sText},function(results,status){if(status==google.maps.GeocoderStatus.OK){var oBestResult=null;for(var iResultIndex=0;iResultIndex<results.length;iResultIndex++){var oResult=results[iResultIndex];for(var iAddressComponentsIndex=0;iAddressComponentsIndex<oResult.address_components.length;iAddressComponentsIndex++){var oAddressComponent=oResult.address_components[iAddressComponentsIndex];for(var iAddressComponentsTypesIndex=0;iAddressComponentsTypesIndex<oAddressComponent.types.length;iAddressComponentsTypesIndex++){if(oAddressComponent.types[iAddressComponentsTypesIndex].toLowerCase()=="country"){for(var iCountryIndex=0;iCountryIndex<GEOLocationAPI.Options.MapWidgetSearchCountriesBias.length;iCountryIndex++){if(oAddressComponent.long_name==GEOLocationAPI.Options.MapWidgetSearchCountriesBias[iCountryIndex]){oBestResult=oResult;iCountryIndex=iAddressComponentsTypesIndex=iAddressComponentsIndex=iResultIndex=9999}}}}}}if(oBestResult==null){oBestResult=results[0]}$txtSearch.attr("data-lastsearch",sText);$txtSearch.attr("data-lat",oBestResult.geometry.location.lat());$txtSearch.attr("data-lng",oBestResult.geometry.location.lng());var oBoundsObject=oBestResult.geometry.viewport;if(typeof(oBestResult.geometry.bounds)!="undefined"){oBoundsObject=oBestResult.geometry.bounds}$txtSearch.attr("data-nelat",oBoundsObject.getNorthEast().lat());$txtSearch.attr("data-nelng",oBoundsObject.getNorthEast().lng());$txtSearch.attr("data-swlat",oBoundsObject.getSouthWest().lat());$txtSearch.attr("data-swlng",oBoundsObject.getSouthWest().lng());GEOLocationAPI.ShowSearchResults()}else{alert("Search failed.")}});GEOLocationAPI.Options.MapWidgetLastSearchAction="search"}else{alert("Please enter City, State, or Zip Code.")}return false})},ConvertURLProtocol:function(sURL){if(document.location.protocol=="https:"&&sURL.substring(0,5)=="http:"){sURL="https:"+sURL.substring(5)}return sURL},ConvertProductionJSONURLToCMS:function(sURL){return"http://cms.vizergy.com/vsites/"+sURL.substring(sURL.indexOf("files/"))},ConvertJSONURLToCallbackFunctionName:function(sURL){var sPageWidgetId=sURL.match(/widget([0-9])+\.js/gi)[0].replace("widget","").replace(".js","");return"widget"+sPageWidgetId+"DataCallback"},VisitorLocationFound:function(event,options){var sLatitude=readCookie(options.latitudeCookie);var sLongitude=readCookie(options.longitudeCookie);if(typeof(window[GEOLocationAPI.Options.MapWidgetGoogleObjectName])=="undefined"){$("body").bind(GEOLocationAPI.Options.MapWidgetLoadedEventName,function(){GEOLocationAPI.ShowVisitorMarker(sLatitude,sLongitude)})}else{GEOLocationAPI.ShowVisitorMarker(sLatitude,sLongitude)}if(readCookie(GEOLocationAPI.Options.VisitorPropertyKeyCookieName)==""){GEOLocationAPI.GetVisitorProperty(sLatitude,sLongitude,"");GEOLocationAPI.LoadVisitorPropertyDetails()}},HaversineDistanceInMiles:function(lat1,lon1,lat2,lon2){var R=6371;var dLat=(lat2-lat1)*Math.PI/180;var dLon=(lon2-lon1)*Math.PI/180;var a=0.5-Math.cos(dLat)/2+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*(1-Math.cos(dLon))/2;return(R*2*Math.asin(Math.sqrt(a)))*0.6214},GetVisitorProperty:function(sLatitude,sLongitude,sDomain){var oVisitorProperty=null;var sVisitorPropertyDomain="";var fClosestMiles=9999.999;var bCoordinateSearch=false;if(sDomain==""){bCoordinateSearch=true}for(var i=0;i<window[GEOLocationAPI.Options.MapWidgetJSONFileObjectName][GEOLocationAPI.Options.MapWidgetJSONFileObjectCollectionPropertyName].length;i++){var pointJSON=window[GEOLocationAPI.Options.MapWidgetJSONFileObjectName][GEOLocationAPI.Options.MapWidgetJSONFileObjectCollectionPropertyName][i];if(typeof(window[GEOLocationAPI.Options.MapWidgetJSONObjectName])!="undefined"){var pointMapJSON=window[GEOLocationAPI.Options.MapWidgetJSONObjectName][i];if(pointMapJSON.marker!=null&&pointMapJSON.marker.getVisible()==false){continue}}if(bCoordinateSearch==true){bCoordinateSearch=true;var iLatitude=parseFloat(sLatitude);var iLongitude=parseFloat(sLongitude);var iPointLatitude=parseFloat(pointJSON[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]);var iPointLongitude=parseFloat(pointJSON[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]);var fDistance=GEOLocationAPI.HaversineDistanceInMiles(iLatitude,iLongitude,iPointLatitude,iPointLongitude);if(fDistance<fClosestMiles){fClosestMiles=fDistance;oVisitorProperty=pointJSON}}else{var sMapPointValue=pointJSON[GEOLocationAPI.Options.MapWidgetJSONFileObjectKeyValuePropertyName];sMapPointValue=GEOLocationAPI.ConvertPropertyValueToKey(sMapPointValue);if(GEOLocationAPI.ConvertPropertyValueToKey(sDomain)==sMapPointValue){oVisitorProperty=pointJSON}}}if(oVisitorProperty!=null){GEOLocationAPI.VisitorProperty=oVisitorProperty;if(bCoordinateSearch==true){createCookie(GEOLocationAPI.Options.VisitorPropertyKeyCookieName,GEOLocationAPI.ConvertPropertyValueToKey(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectKeyValuePropertyName]));createCookie(GEOLocationAPI.Options.VisitorPropertyCoordinateBasedCookieName,"1")}GEOLocationAPI.Options.MapWidgetLastSearchAction="visitor"}},ConvertPropertyValueToKey:function(sURL){return GEOLocationAPI.Options.MapWidgetJSONFileObjectKeyValueGeneratorFunction(sURL)},LoadVisitorPropertyDetails:function(){if(GEOLocationAPI.VisitorProperty==null){return false}var oVisitorProperty=GEOLocationAPI.VisitorProperty;$("body").trigger(GEOLocationAPI.Options.VisitorPropertyIdentifiedEventName);if(readCookie(GEOLocationAPI.Options.VisitorPropertyCoordinateBasedCookieName)=="1"){var sVisitorLatitude=readCookie(GEOLocationAPI.Options.VisitorLatitudeCookieName);var sVisitorLongitude=readCookie(GEOLocationAPI.Options.VisitorLongitudeCookieName);var iDistance=GEOLocationAPI.HaversineDistanceInMiles(parseFloat(sVisitorLatitude),parseFloat(sVisitorLongitude),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]));if(typeof(window[GEOLocationAPI.Options.MapWidgetGoogleObjectName])=="undefined"){$("body").bind(GEOLocationAPI.Options.MapWidgetLoadedEventName,function(){GEOLocationAPI.ZoomToPointsInRadius(parseFloat(sVisitorLatitude),parseFloat(sVisitorLongitude),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]),iDistance,GEOLocationAPI.Options.MapWidgetSearchRadiusExtension)})}else{GEOLocationAPI.ZoomToPointsInRadius(parseFloat(sVisitorLatitude),parseFloat(sVisitorLongitude),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]),iDistance,GEOLocationAPI.Options.MapWidgetSearchRadiusExtension)}}else{if(typeof(window[GEOLocationAPI.Options.MapWidgetGoogleObjectName])=="undefined"){$("body").bind(GEOLocationAPI.Options.MapWidgetLoadedEventName,function(){GEOLocationAPI.ZoomToPointsInRadius(parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]),"","",GEOLocationAPI.Options.MapWidgetSearchRadiusExtension,0)})}else{GEOLocationAPI.ZoomToPointsInRadius(parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLatitudePropertyName]),parseFloat(oVisitorProperty[GEOLocationAPI.Options.MapWidgetJSONFileObjectLongitudePropertyName]),"","",GEOLocationAPI.Options.MapWidgetSearchRadiusExtension,0)}}},ShowVisitorMarker:function(sLatitude,sLongitude){var latLng=new google.maps.LatLng(sLatitude,sLongitude);window.pointMapVisitorMarker=new google.maps.Marker({position:latLng,map:window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],title:"Your Location",icon:window[GEOLocationAPI.Options.MapWidgetVisitorIconURLName],zIndex:9999})},ShowSearchResults:function(){var $txtSearch=$(GEOLocationAPI.Options.MapWidgetSearchTextboxSelector);var iCenterLatitude=parseFloat($txtSearch.attr("data-lat"));var iCenterLongitude=parseFloat($txtSearch.attr("data-lng"));var iNorthEastLatitude=parseFloat($txtSearch.attr("data-nelat"));var iNorthEastLongitude=parseFloat($txtSearch.attr("data-nelng"));var iSouthWestLatitude=parseFloat($txtSearch.attr("data-nelat"));var iSouthWestLongitude=parseFloat($txtSearch.attr("data-nelng"));var fClosestPointMiles=9999.999;for(var i=0;i<window[GEOLocationAPI.Options.MapWidgetJSONObjectName].length;i++){var pointJSON=window[GEOLocationAPI.Options.MapWidgetJSONObjectName][i];if(pointJSON.marker.getVisible()==false){continue}var fDistance=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLatitudePropertyName],pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLongitudePropertyName]);if(fDistance<fClosestPointMiles){fClosestPointMiles=fDistance}}var iRadiusNorthEast=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,iNorthEastLatitude,iNorthEastLongitude);var iRadiusSouthEast=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,iNorthEastLatitude,iSouthWestLongitude);var iRadiusSouthWest=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,iSouthWestLatitude,iSouthWestLongitude);var iRadiusNorthWest=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,iSouthWestLatitude,iNorthEastLongitude);var iMaxRadius=Math.max(iRadiusNorthEast,iRadiusSouthEast,iRadiusSouthWest,iRadiusNorthWest,fClosestPointMiles);GEOLocationAPI.ZoomToPointsInRadius(iCenterLatitude,iCenterLongitude,"","",iMaxRadius,GEOLocationAPI.Options.MapWidgetSearchRadiusExtension);if(window[GEOLocationAPI.Options.MapWidgetDebugFlagName]==true){window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName].push(new google.maps.Rectangle({strokeColor:"#FF0000",strokeOpacity:0.8,strokeWeight:2,fillOpacity:0,map:window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],bounds:{north:iNorthEastLatitude,south:iSouthWestLatitude,east:iNorthEastLongitude,west:iSouthWestLongitude}}))}},RedoLastSearchAction:function(){if(GEOLocationAPI.Options.MapWidgetLastSearchAction=="visitor"){var sVisitorLatitude=readCookie(GEOLocationAPI.Options.VisitorLatitudeCookieName);var sVisitorLongitude=readCookie(GEOLocationAPI.Options.VisitorLongitudeCookieName);GEOLocationAPI.GetVisitorProperty(sVisitorLatitude,sVisitorLongitude,"");GEOLocationAPI.LoadVisitorPropertyDetails()}else{if(GEOLocationAPI.Options.MapWidgetLastSearchAction=="search"){GEOLocationAPI.ShowSearchResults()}}},ZoomToPointsInRadius:function(sCenterLatitude,sCenterLongitude,sRadiusPointLatitude,sRadiusPointLongitude,iRadiusInMiles,iRadiusExpansionAmountInMiles){var iCenterLatitude=parseFloat(sCenterLatitude);var iCenterLongitude=parseFloat(sCenterLongitude);var centerLatLng=new google.maps.LatLng(iCenterLatitude,iCenterLongitude);var bounds=new google.maps.LatLngBounds();bounds.extend(centerLatLng);var oPointsInBounds=[];for(var i=0;i<window[GEOLocationAPI.Options.MapWidgetJSONObjectName].length;i++){var pointJSON=window[GEOLocationAPI.Options.MapWidgetJSONObjectName][i];if(pointJSON.marker.getVisible()==false){continue}var fDistance=GEOLocationAPI.HaversineDistanceInMiles(iCenterLatitude,iCenterLongitude,pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLatitudePropertyName],pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLongitudePropertyName]);pointJSON.distance=Math.ceil(fDistance);if(fDistance<=(iRadiusInMiles+iRadiusExpansionAmountInMiles)){oPointsInBounds.push(pointJSON);bounds.extend(new google.maps.LatLng(pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLatitudePropertyName],pointJSON[GEOLocationAPI.Options.MapWidgetJSONObjectLongitudePropertyName]))}}$("#mapSearchResultsShell").addClass("col-md-4 col-lg-3").show();$("#mapRow").removeClass("resultsHide");$("#mapShell").addClass("col-md-8 col-lg-9");if(bounds.getNorthEast().equals(bounds.getSouthWest())==false){window[GEOLocationAPI.Options.MapWidgetGoogleObjectName].fitBounds(bounds)}else{window[GEOLocationAPI.Options.MapWidgetGoogleObjectName].setCenter(centerLatLng);window[GEOLocationAPI.Options.MapWidgetGoogleObjectName].setZoom(9)}if(window[GEOLocationAPI.Options.MapWidgetDebugFlagName]==true){GEOLocationAPI.ClearMapShapes();if(sRadiusPointLatitude!=""&&sRadiusPointLongitude!=""){GEOLocationAPI.DrawMapLine(parseFloat(sCenterLatitude),parseFloat(sCenterLongitude),parseFloat(sRadiusPointLatitude),parseFloat(sRadiusPointLongitude))}GEOLocationAPI.DrawMapCircle(parseFloat(sCenterLatitude),parseFloat(sCenterLongitude),iRadiusInMiles,"#FF0000");GEOLocationAPI.DrawMapCircle(parseFloat(sCenterLatitude),parseFloat(sCenterLongitude),iRadiusInMiles+iRadiusExpansionAmountInMiles,"#FF0000")}var oMapWidgetJSONSorted=window[GEOLocationAPI.Options.MapWidgetJSONObjectName].slice();for(var i=0;i<window[GEOLocationAPI.Options.MapWidgetJSONObjectName].length;i++){var pointJSON=window[GEOLocationAPI.Options.MapWidgetJSONObjectName][i];if(pointJSON.marker.getVisible()==false){oMapWidgetJSONSorted.push(pointJSON)}}oMapWidgetJSONSorted.sort((GEOLocationAPI.SortPointsBasedOnDistance));var sortNumber=1;var oClosestPointJSON=null;for(var i=0;i<oMapWidgetJSONSorted.length;i++){if(oMapWidgetJSONSorted[i].marker.getVisible()==false){continue}if(oClosestPointJSON==null){oClosestPointJSON=oMapWidgetJSONSorted[i]}var sLabel=sortNumber.toString();oMapWidgetJSONSorted[i].marker.setLabel({text:" ",color:"#FFFFFF",fontWeight:"normal",fontSize:"11px",fontFamily:"'Montserrat', sans-serif, custom-label-"+sLabel});oMapWidgetJSONSorted[i].marker.setIcon({url:oMapWidgetJSONSorted[i].marker.getIcon().url.replace(GEOLocationAPI.Options.MapWidgetOriginalMarkerIcon,GEOLocationAPI.Options.MapWidgetNumberedMarkerIcon),labelOrigin:{x:GEOLocationAPI.Options.MapWidgetLabelOriginXValue,y:GEOLocationAPI.Options.MapWidgetLabelOriginYValue}});oMapWidgetJSONSorted[i].marker.setZIndex(google.maps.Marker.MAX_ZINDEX+(oMapWidgetJSONSorted.length-i));sortNumber+=1}oMapWidgetJSONSorted=null;google.maps.event.addListenerOnce(window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],"idle",function(){google.maps.event.trigger(oClosestPointJSON.marker,"click")});GEOLocationAPI.Options.MapWidgetReplaceMarkerLabelsDone=false;if(GEOLocationAPI.Options.MapWidgetReplaceMarkerLabelsIdleListener==null){GEOLocationAPI.Options.MapWidgetReplaceMarkerLabelsIdleListener=google.maps.event.addListener(window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],"idle",GEOLocationAPI.ReplaceMarkerLabels)}oPointsInBounds.sort(GEOLocationAPI.SortPointsBasedOnDistance);$(GEOLocationAPI.Options.MapWidgetSearchResultsListSelector).empty();if(oPointsInBounds.length>0){$(GEOLocationAPI.Options.MapWidgetSearchResultsEmptySelector).hide();$(GEOLocationAPI.Options.MapWidgetSearchResultsListSelector).show();for(var i=0;i<Math.min(oPointsInBounds.length,9);i++){var pointJSON=oPointsInBounds[i];var $description=$(pointJSON.description);$description.find(".mapPointDistance").html("<br>"+pointJSON.distance+" miles away");var $li=$("<li></li>");$li.addClass("locationType"+pointJSON.locationType.replace(/[^a-zA-Z0-9]/ig,""));$li.append($description);$(GEOLocationAPI.Options.MapWidgetSearchResultsListSelector).append($li)}}},SortPointsBasedOnDistance:function(a,b){return a.distance-b.distance},ReplaceMarkerLabels:function(){var oLabels=document.querySelectorAll("[style*='custom-label']");if(oLabels.length>0){for(var i=0;i<oLabels.length;i++){var matches=oLabels[i].getAttribute("style").match(/custom-label-(\d+)/);var sCustomFont=matches[0];var sLabel=matches[1];var iNumber=parseInt(sLabel,10);if(iNumber<10){oLabels[i].innerHTML=sLabel}oLabels[i].style.fontFamily=oLabels[i].style.fontFamily.replace(", "+sCustomFont,"")}GEOLocationAPI.Options.MapWidgetReplaceMarkerLabelsDone=true;setTimeout(GEOLocationAPI.ReplaceMarkerLabels,250)}else{if(GEOLocationAPI.Options.MapWidgetReplaceMarkerLabelsDone==false){setTimeout(GEOLocationAPI.ReplaceMarkerLabels,250)}}oLabels=null},DrawMapLine:function(iLatitude1,iLongitude1,iLatitude2,iLongitude2){window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName].push(new google.maps.Polyline({map:window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],path:[{lat:iLatitude1,lng:iLongitude1},{lat:iLatitude2,lng:iLongitude2}],geodesic:true,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2}))},DrawMapCircle:function(iLatitude,iLongitude,iRadiusInMiles,sColor){window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName].push(new google.maps.Circle({strokeColor:sColor,strokeOpacity:0.8,strokeWeight:2,fillOpacity:0,map:window[GEOLocationAPI.Options.MapWidgetGoogleObjectName],center:new google.maps.LatLng(iLatitude,iLongitude),radius:(iRadiusInMiles/0.00062137)}))},ClearMapShapes:function(){for(var s=0;s<window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName].length;s++){window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName][s].setMap(null)}window[GEOLocationAPI.Options.MapWidgetDebugShapesObjectName]=[]}};$(function(){GEOLocationAPI.Init({RequestGEOLocationFlag:false,MapWidgetJSONURL:"https://www.hardrock.com/files/5880/widget935343.js",MapWidgetJSONFileObjectKeyValueGeneratorFunction:function(sURL){var oMatch=sURL.match(/(hardrock\.com\/[\w\-\(\)]+\/[\w\-\(\)]+)|(hardrockcafe\.com\/[\w\-\(\)]+\/[\w\-\(\)]+)/i);if(oMatch!=null){return oMatch[0]}else{return sURL}},MapWidgetSearchRadiusExtension:75,MapWidgetOriginalMarkerIcon:"xxxxx.png",MapWidgetNumberedMarkerIcon:"yyyyy.png",MapWidgetLabelOriginXValue:15,MapWidgetLabelOriginYValue:15,MapWidgetSearchFormSelector:"#mapSearchFormForm",})});/* Combined JS End */